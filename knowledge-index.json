
{
  "repo": {
    "owner": "GoyaAcademy",
    "name": "Entra-ID-Onboarding-Automation",
    "default_branch": "main",
    "generated_at_utc": "2025-09-27T00:00:00Z"
  },
  "notes": [
    "Paths under onboarding/ are generated by the finalize workflow and will grow over time.",
    "Workflows read questionnaires and templates straight from the repo; keep those paths stable."
  ],
  "files": [
    {
      "path": ".gitignore",
      "purpose": "Standard Git ignores for the repo."
    },
    {
      "path": "README.md",
      "purpose": "Top-level overview and quickstart."
    },
    {
      "path": "LEARN.md",
      "purpose": "Crash course for newcomers: n8n, Docker, Postgres, PostgREST, GitHub PR."
    },
    {
      "path": "demo-runbook.md",
      "purpose": "Step-by-step demo script for the two workflows."
    },
    {
      "path": "PRIVACY.md",
      "purpose": "Privacy notes for the project."
    },
    {
      "path": "runtime-target.json",
      "purpose": "Provide n8n runtime version."
    },
    /* ----------------------------- Docker stack ----------------------------- */
    {
      "path": "Docker/docker-compose.yml",
      "purpose": "Brings up Postgres, PostgREST, and n8n."
    },
    {
      "path": "Docker/.env",
      "purpose": "Project-level defaults (safe to commit)."
    },
    {
      "path": "Docker/.env.postgres",
      "purpose": "Postgres settings; replace placeholders with real secrets."
    },
    {
      "path": "Docker/.env.postgrest",
      "purpose": "PostgREST settings; replace placeholders with real secrets."
    },
    {
      "path": "Docker/.env.n8n",
      "purpose": "n8n settings; replace placeholders with real secrets."
    },

    /* ----------------------------- Database SQL ----------------------------- */
    {
      "path": "Docker/db/bootstrap.sql",
      "purpose": "Idempotent DB schema, roles/grants, and public.save_answer(payload jsonb)."
    },

    /* --------------------------------- Docs --------------------------------- */
    {
      "path": "docs/Mermaid sequence diagram.md",
      "purpose": "End-to-end sequence diagram of the chat + finalize flows."
    },

    /* ----------------------------- Questionnaires --------------------------- */
    {
      "path": "questionnaires/Application_Inofmation.json",
      "purpose": "Application KB used to prefill name/custodian/architect/env/tech."
    },
    {
      "path": "questionnaires/questionnaire-sso-initiation-entra.json",
      "purpose": "Canonical question list that drives the interview."
    },

    /* -------------------------------- Templates ----------------------------- */
    {
      "path": "templates/entra_app_onboarding.yaml",
      "purpose": "Base YAML template filled by the finalize workflow."
    },

    /* ------------------------------- Workflows ------------------------------ */
    {
      "path": "workflows/entra_onboarding_agent_chat.json",
      "purpose": "Chat workflow: agent + tools (Questionnaire, App KB, State:Get/Save, Finalize)."
    },
    {
      "path": "workflows/entra_onboarding_finalize.json",
      "purpose": "Finalize workflow: webhook → fill template → branch/commit → PR."
    },

    /* ------------------------------- Onboarding ----------------------------- */
    {
      "path": "onboarding/",
      "purpose": "Generated YAML files per app (pattern: onboarding/<safeName>-<stamp>.yaml)."
    }
  ],
  "globs": [
    {
      "pattern": "onboarding/*.yaml",
      "purpose": "All generated onboarding artifacts created by the finalize workflow."
    },
    {
      "pattern": "workflows/*.json",
      "purpose": "All exported n8n workflows."
    },
    {
      "pattern": "questionnaires/*.json",
      "purpose": "All knowledge-base and questionnaire JSON files."
    },
    {
      "pattern": "templates/*.yaml",
      "purpose": "All YAML templates consumed by finalize."
    },
    {
      "pattern": "Docker/**/*.env",
      "purpose": "Environment files for local stack (placeholders only in Git)."
    },
    {
      "pattern": "Docker/**/*.yml",
      "purpose": "Compose and related YAML in the Docker folder."
    },
    {
      "pattern": "Docker/db/*.sql",
      "purpose": "All SQL bootstrap scripts applied to Postgres."
    },
    {
      "pattern": "docs/*.md",
      "purpose": "All project documentation under docs/."
    }
  ],
  "provenance": {
    "workflows_confirmed": [
      "workflows/entra_onboarding_agent_chat.json",
      "workflows/entra_onboarding_finalize.json"
    ],
    "these_paths_are_required_by_workflows": [
      "questionnaires/Application_Inofmation.json",
      "questionnaires/questionnaire-sso-initiation-entra.json",
      "templates/entra_app_onboarding.yaml"
    ]
  }
}
